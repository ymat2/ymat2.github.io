---
title: "Git åŸºæœ¬æ“ä½œâ‘¡ â€” `fetch`, `merge`, `pull`"
subtitle: "2023-06-13 ç‰§é‡ç ” æŠ€è¡“è¼ªèª­ä¼š `git`ç·¨"
format: revealjs
highlight-style: github
---


## ä»Šæ—¥ã‚„ã‚‹ã“ã¨

1. å‰å›ã®å¾©ç¿’

1. `git status` ã¨ `git log` ã«æ…£ã‚Œã‚‹

1. ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®å¤‰æ›´ã‚’æ‰‹å…ƒã«åæ˜ ã•ã›ã‚‹

1. ã‚ãˆã¦ç«¶åˆã‚’èµ·ã“ã—ã¦ãã‚Œã‚’è§£æ±ºã—ã¦ã¿ã‚‹ï¼ˆæ™‚é–“ãŒã‚ã‚Œã°ï¼‰

å‚è€ƒ
: [éå»ã®ç‰§é‡ç ”ã§ã® `git` è¬›ç¿’è³‡æ–™](https://heavywatal.github.io/lectures/git2019makino.html)
: [`git` å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](https://git-scm.com/docs)
: [kaito256ã•ã‚“: Githubæ¼”ç¿’](https://github.com/kaityo256/github)


## å‰å›ã‚„ã£ãŸã“ã¨

1. `git` <img height="24" style="margin:0;" src="https://cdn.simpleicons.org/git"> ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚

1. Github <img height="24" style="margin:0;" src="https://cdn.simpleicons.org/github"> ã«å€‹äººã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ã¤ãã‚‹ã€‚

1. Gitã®åˆæœŸè¨­å®šã‚’ã™ã‚‹: `~/.gitconfig`

1. SSHã®è¨­å®šã‚’ã™ã‚‹: `~/.ssh/`


## å‰å›ã®å¾©ç¿’: æ‰‹å…ƒã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Gitã§ç®¡ç†ã™ã‚‹

1. é©å½“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« `README.md` ã‚’æ–°è¦ä½œæˆã™ã‚‹:

    ```sh
    mkdir new_project && cd new_project
    echo Hello, world! > README.md
    ```

1. ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã‚’ã¤ãã‚‹:

    ```sh
    git init
    ```

1. ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã« `README.md` ã‚’ã‚³ãƒŸãƒƒãƒˆã™ã‚‹ã€‚

    æœ€åˆã¯ `git status` ã‚„ `git log` ã§é »ç¹ã«ç¢ºèªã™ã‚‹ã¨å®‰å¿ƒã€‚

    ```sh
    git status
    git add README.md  # README.mdã‚’indexã«ç™»éŒ²
    git status
    git commit -m "Create README.md" # ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ·»ãˆã¦ã‚³ãƒŸãƒƒãƒˆ
    git status
    git log
    ```


## å‰å›ã®å¾©ç¿’: æ‰‹å…ƒã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Githubã§ç®¡ç†ã™ã‚‹

1. GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®å³ä¸Šã® â€œ+â€ ã‹ã‚‰ â€œNew repositoryâ€ ã‚’é¸æŠã™ã‚‹ã€‚

1. é©å½“ãªãƒªãƒã‚¸ãƒˆãƒªåï¼ˆåŸºæœ¬ã¯æ‰‹å…ƒã¨åŒã˜ï¼‰ã‚’ã¤ã‘ã¦ â€œCreate repositoryâ€ ã‚’æŠ¼ã™ã€‚

1. æ‰‹é †ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§åŸºæœ¬çš„ã«ãã‚Œã«å¾“ã†:

    ```sh
    git remote add origin https://github.com/USER_NAME/new_project.git  # ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’ç´ã¥ã‘ã‚‹
    git remote -v               # ã¡ã‚ƒã‚“ã¨ç´ã¥ã„ãŸã‹ç¢ºèª
    # git branch -M main        # ãƒ–ãƒ©ãƒ³ãƒã®åå‰ã‚’mainã«
    git push -u origin main     # ãƒªãƒ¢ãƒ¼ãƒˆã«push
    git status
    ```

    <small> "Private" ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€SSHã§ç´ä»˜ã‘ã—ãªã„ã¨ä¸‹ã‚Š( `fetch`, `pull` )ã§ã‚‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’èã‹ã‚Œã‚‹ã€‚</small>

1. ãƒªãƒã‚¸ãƒˆãƒªã®ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã—ã¦ `README.md` ãŒè¦‹ãˆã‚‹ã‹ç¢ºèªã™ã‚‹ã€‚


## å‰å›ã®å¾©ç¿’: æ—¢å­˜ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’æ‰‹å…ƒã«è½ã¨ã—ã¦ãã‚‹

1. GitHubä¸Šã®é©å½“ãªãƒªãƒã‚¸ãƒˆãƒªã‚’ã²ã¨ã¤é¸ã¶ã€‚<br>
   (e.g., [https://github.com/ymat2/practice_git](https://github.com/ymat2/practice-git))

2. å³ã®æ–¹ã® <kbd style="background-color:#008000; color:#fff;"><>Codeâ–¼</kbd> ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã€‚

3. SSHã§ã¯ãªãHTTPSã‚’é¸æŠã—ã€URLã‚’ã‚³ãƒ”ãƒ¼ã€‚

4. `git clone https://github.com/ymat2/practice-git.git`

5. ä¸­èº«ã‚’çœºã‚ã¦ã¿ã‚‹:

     ```sh
     cd practice-git
     ls -al
     git log
     ```

<hr>

`clone` ã¯ã©ã‚“ãªæ™‚ã«ä½¿ã†?
: ä»–äººã®ä½œã£ãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ã†ã¨ã
: æ–°ã—ã„PCã§æœ€åˆã«ä½œæ¥­ã‚’å§‹ã‚ã‚‹ã¨ã
: etc.


## æº–å‚™é‹å‹•:ã€€`git status` ã¨ `git log` ã«æ…£ã‚Œã‚‹

ã¾ãšã¯ä½•ã‚‚ã—ã¦ã„ãªã„çŠ¶æ…‹ã§ `git status` & `git log`

```sh
git status
# On branch main
# Your branch is up to date with 'origin/main'.
#
# nothing to commit, working tree clean

git log --oneline --graph   # 1ã‚³ãƒŸãƒƒãƒˆ1è¡Œã§, ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ã«
# * 36d0617 (HEAD -> main, origin/main) Create README.md
```

`origin`
:   ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®ã“ã¨ã€‚
:   `origin/main` ã¯ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®mainãƒ–ãƒ©ãƒ³ãƒã€‚

`HEAD`
:   ã„ã¾è¦‹ã¦ã„ã‚‹ãƒ–ãƒ©ãƒ³ãƒ/commitã‚’æŒ‡ã™ç›®å°ã€‚
:   åŸºæœ¬çš„ã«ã¯ã€Œæ‰‹å…ƒã®æœ€æ–°ã®commitã€ã‚’è¡¨ã™ã€‚


## æº–å‚™é‹å‹•:ã€€`git status` ã¨ `git log` ã«æ…£ã‚Œã‚‹

`README.md` ã‚’ã•ã‚‰ã«ç·¨é›†ã—ã¦ã¿ã‚‹:

```md
# Hello, world!
This is a practice of `git`.
```

<br>

`git status` ã™ã‚‹ã¨:

```sh
git status
# On branch main
# Your branch is up to date with 'origin/main'.
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git restore <file>..." to discard changes in working directory)
# 	modified:   README.md
#
# no changes added to commit (use "git add" and/or "git commit -a")
```


## æº–å‚™é‹å‹•:ã€€`git status` ã¨ `git log` ã«æ…£ã‚Œã‚‹

`README.md` ã‚’indexã«åŠ ãˆã‚‹:

```sh
git add README.md
```

<br>

ã“ã“ã§ã‚‚ `git status` :

```sh
git status
# On branch main
# Your branch is up to date with 'origin/main'.
#
# Changes to be committed:
#   (use "git restore --staged <file>..." to unstage)
# 	modified:   README.md
```

â†‘ ã€Œé–“é•ãˆã¦ `add` ã—ã¡ã‚ƒã£ãŸã€ã£ã¦æ™‚ã¯ `git restore --staged README.md` ã™ã‚Œã°ã„ã„ã€‚


## æº–å‚™é‹å‹•:ã€€`git status` ã¨ `git log` ã«æ…£ã‚Œã‚‹

`README.md` ã®å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆã™ã‚‹:

```sh
git commit -m "Update README.md"
# [main 0f1a686] Update README.md
#  1 file changed, 2 insertions(+), 1 deletion(-)
```

<br>

ã“ã“ã§ `git status` & `git log`:
```sh
git status
# On branch main
# Your branch is ahead of 'origin/main' by 1 commit.
#   (use "git push" to publish your local commits)
#
# nothing to commit, working tree clean

git log --oneline --graph
# * 0f1a686 (HEAD -> main) Update README.md     <- HEAD(ãƒ­ãƒ¼ã‚«ãƒ«)ã¯ã“ã“ã«ç§»å‹•
# * 36d0617 (origin/main) Create README.md      <- origin(ãƒªãƒ¢ãƒ¼ãƒˆ)ã¯ã¾ã ã“ã“
```


## æº–å‚™é‹å‹•:ã€€`git status` ã¨ `git log` ã«æ…£ã‚Œã‚‹

æœ€å¾Œã« `git push`:

```sh
git push
```

<br>

`git log` ã§ç¢ºèª:

```sh
git log --oneline --graph
# * 0f1a686 (HEAD -> main, origin/main) Update README.md        <- originã‚‚è¿½ã„ã¤ã„ãŸ
# * 36d0617 Create README.md
```

<br>

ã€Œã‚ã‚Œã€ã„ã¾ã©ã†ã„ã†çŠ¶æ…‹ã ã£ã‘ï¼Ÿã€

â†“

**å¸¸ã« `git status`, `git log` ã‚’ç¢ºèªã™ã‚‹ç™–ã‚’ã¤ã‘ã‚‹ã€‚**


## ä¼‘æ†© & è³ªå•ã‚¿ã‚¤ãƒ 

**ä»Šæ—¥ã‚„ã‚‹ã“ã¨**

1. ~~å‰å›ã®å¾©ç¿’~~

1. ~~`git status` ã¨ `git log` ã«æ…£ã‚Œã‚‹~~

1. ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®å¤‰æ›´ã‚’æ‰‹å…ƒã«åæ˜ ã•ã›ã‚‹

1. ã‚ãˆã¦ç«¶åˆã‚’èµ·ã“ã—ã¦ãã‚Œã‚’è§£æ±ºã—ã¦ã¿ã‚‹ï¼ˆæ™‚é–“ãŒã‚ã‚Œã°ï¼‰


## ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®å¤‰æ›´ã‚’æ‰‹å…ƒã«åæ˜ ã•ã›ã‚‹

è¤‡æ•°äººã§åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½¿ã†å ´åˆã‚„ã€
å€‹äººã§è¤‡æ•°ã®ãƒã‚·ãƒ³ã‚’ä½¿ã£ã¦é–‹ç™ºã™ã‚‹å ´åˆãªã©ã€
åˆ¥ã®ã²ã¨/ãƒã‚·ãƒ³ãŒ `push` ã—ãŸå¤‰æ›´ã‚’æ‰‹å…ƒã«å–ã‚Šå¯„ã›ã‚‹ã¨ã„ã†æ“ä½œãŒå¿…è¦ã«ãªã‚‹ã€‚

`git fetch` + `git merge` ã‚„ `git pull` ã¨ã„ã£ãŸã‚³ãƒãƒ³ãƒ‰ã§ã€
ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®å¤‰æ›´ã‚’æ‰‹å…ƒã«åæ˜ ã•ã›ã‚‹ã€‚

![](image/push_and_pull.png){width="900"}


## ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®å¤‰æ›´ã‚’æ‰‹å…ƒã«åæ˜ ã•ã›ã‚‹

`git fetch`
: ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®å¤‰æ›´ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã«å–ã‚Šè¾¼ã‚€ã€‚
: ã“ã®æ™‚ç‚¹ã§ã¯ `.git/` å†…ã ã‘ãŒå¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€æ‰‹å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãã®ã¾ã¾ã€‚

`git merge`
: ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã®å†…å®¹ã‚’ã€æ‰‹å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã«åæ˜ ã™ã‚‹ã€‚

![](image/fetch_and_merge.png){width="720"}

`git pull` ã¯ `git fetch` ã¨ `git merge` ã‚’ä¸€æ°—ã«ã‚„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã€‚


## å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã‚‹

1. ãƒªãƒ¢ãƒ¼ãƒˆã§ã®å¤‰æ›´ã‚’å†ç¾ã™ã‚‹ãŸã‚ã«ã€Githubãƒšãƒ¼ã‚¸ä¸Šã§ `README.md` ã‚’ç·¨é›†ã™ã‚‹ã€‚

     1. `README.md` ã‚’ã‚¯ãƒªãƒƒã‚¯ -> å³ä¸Šã®ãƒšãƒ³ãƒãƒ¼ã‚¯ ğŸ–Š ã‹ã‚‰ç·¨é›†ç”»é¢ã«å…¥ã‚‹ã€‚

     2. "This line is edited online." ãªã©é©å½“ã«ç·¨é›†ã—ã¦ã€å³ä¸Šã® <kbd style="background-color:#008000; color:#fff;">Commit changes</kbd> ã‚’æŠ¼ã™ã€‚

     3. è¡¨ç¤ºã•ã‚Œã‚‹ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¯ã¨ã‚Šã‚ãˆãšãã®ã¾ã¾ã§ <kbd style="background-color:#008000; color:#fff;">Commit changes</kbd>

     4. å¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

<br>

2. ãã®å¤‰æ›´ã‚’ `fetch` ã§ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã«å–ã‚Šå¯„ã›ã‚‹:

    ```sh
    git fetch

    git log --oneline --graph --all    # ã‚³ãƒŸãƒƒãƒˆå…¨éƒ¨
    # * 47d354f (origin/main) Update README.md      <- origin(ãƒªãƒ¢ãƒ¼ãƒˆ)ã®å¤‰æ›´ãŒ.git/ã«åæ˜ ã•ã‚ŒãŸ
    # * 0f1a686 (HEAD -> main) Update README.md     <- HEAD(ãƒ­ãƒ¼ã‚«ãƒ«)ã¯ã¾ã ã“ã“
    # * 36d0617 Create README.md
    ```


## å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã‚‹

3. `merge` ã§æ‰‹å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã«åæ˜ ã™ã‚‹:

    ```sh
    git merge
    # Fast-forward
    #  README.md | 2 ++
    #  1 file changed, 2 insertions(+)

    git log --oneline --graph
    # * 47d354f (HEAD -> main, origin/main) Update README.md    <- HEADãŒoriginã«è¿½ã„ã¤ã„ãŸ
    # * 0f1a686 Update README.md
    # * 36d0617 Create README.md
    ```

<br>

ğŸ”° ç·´ç¿’: ã‚‚ã†ä¸€åº¦ãƒªãƒ¢ãƒ¼ãƒˆã§ç·¨é›†ã—ã¦ `git pull` ã§ä¸€æ°—ã«åæ˜ ã™ã‚‹ã€‚


## `HEAD` ã‚’ `origin` ã«è¿½ã„ã¤ã‹ã›ã‚‹ãƒãƒ¼ã‚¸

æ‰‹å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›´ãŒãªã„å ´åˆã€`fetch` ã—ã¦ããŸ `origin` ã«è¿½ã„ã¤ãã ã‘ã§ã„ã„ã€‚
ã“ã®ã‚ˆã†ãªãƒãƒ¼ã‚¸ã‚’**fast-forward(æ—©é€ã‚Š) ãƒãƒ¼ã‚¸**ã¨ã„ã†ã€‚

![](image/ff_merge.png){width="900"}

<small>(ã“ã®ã‚ã¨Fast-Forwardã˜ã‚ƒãªã„ãƒãƒ¼ã‚¸ã‚‚å‡ºã¦ãã¾ã™ã€‚)</small>


## ã“ã“ã‹ã‚‰å…ˆã¯æ™‚é–“ãŒã‚ã‚Œã°é€²ã‚€


## Fast-Forwardã˜ã‚ƒãªã„ãƒãƒ¼ã‚¸

æ‰‹å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å¤‰æ›´ã—ã¦ã„ãŸå ´åˆã€`fetch` ã—ã¦ããŸ `origin` ã«è¿½ã„ã¤ãã®ã§ã¯ãªãã€
åˆ†å²ã—ãŸä¸¡è€…ã‚’å†ã³1ã¤ã«ã™ã‚‹ãƒãƒ¼ã‚¸ãŒå¿…è¦ã€‚

ã“ã®ã‚ˆã†ãªãƒãƒ¼ã‚¸ã‚’**non-fast forward ãƒãƒ¼ã‚¸**ã¨ã„ã†ã€‚

![](image/non_ff_merge.png){width="900"}


## æ‰‹å…ƒã§ã‚‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ã¦ã„ãŸã‚‰ã©ã†ãªã‚‹ã®??

ã€Œåˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã€ã‚„ã€ŒåŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ¥ã®ç®‡æ‰€ã®å¤‰æ›´ã€ã§ã‚ã‚‹å ´åˆã€non-fast forward ãƒãƒ¼ã‚¸ã§ä¸¡æ–¹ã®å¤‰æ›´ã‚’å–ã‚Šå…¥ã‚Œã‚‹ã€‚

:::: {.columns}

::: {.column width="50%"}
æ‰‹å…ƒã®å¤‰æ›´:

```{.md code-line-numbers="true"}
## ç¬¬1ç« 
ç§ã¯ãƒã‚³ã§ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ãƒã‚³ã§ã‚ã‚‹ã€‚
```

â†“

```{.md code-line-numbers="2"}
## ç¬¬1ç« 
ç§ã¯ã‚¤ãƒŒã§ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ãƒã‚³ã§ã‚ã‚‹ã€‚
```

:::

::: {.column width="50%"}
ãƒªãƒ¢ãƒ¼ãƒˆã®å¤‰æ›´:

```{.md code-line-numbers="true"}
## ç¬¬1ç« 
ç§ã¯ãƒã‚³ã§ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ãƒã‚³ã§ã‚ã‚‹ã€‚
```

â†“

```{.md code-line-numbers="5"}
## ç¬¬1ç« 
ç§ã¯ãƒã‚³ã§ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ã‚¤ãƒŒã§ã‚ã‚‹ã€‚
```

:::

::::

<div style="text-align:center;">
â†“

`git fetch` + `git merge`

â†“
</div>

```{.md code-line-numbers="true"}
## ç¬¬1ç« 
ç§ã¯ã‚¤ãƒŒã§ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ã‚¤ãƒŒã§ã‚ã‚‹ã€‚
```


## æ‰‹å…ƒã§ã‚‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ã¦ã„ãŸã‚‰ã©ã†ãªã‚‹ã®??

ã€ŒåŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã®åŒã˜ç®‡æ‰€ã®å¤‰æ›´ã€ã§ã‚ã‚‹å ´åˆã€`conflict` ãŒç™ºç”Ÿã™ã‚‹ã€‚

:::: {.columns}

::: {.column width="50%"}
æ‰‹å…ƒã®å¤‰æ›´:

```{.md code-line-numbers="true"}
## ç¬¬1ç« 
ç§ã¯ãƒã‚³ã§ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ãƒã‚³ã§ã‚ã‚‹ã€‚
```

â†“

```{.md code-line-numbers="2"}
## ç¬¬1ç« 
ç§ã¯ã‚¤ãƒŒã§ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ãƒã‚³ã§ã‚ã‚‹ã€‚
```

:::

::: {.column width="50%"}
ãƒªãƒ¢ãƒ¼ãƒˆã®å¤‰æ›´:

```{.md code-line-numbers="true"}
## ç¬¬1ç« 
ç§ã¯ãƒã‚³ã§ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ãƒã‚³ã§ã‚ã‚‹ã€‚
```

â†“

```{.md code-line-numbers="2"}
## ç¬¬1ç« 
ç§ã¯ã‚µãƒ«ã§ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ãƒã‚³ã§ã‚ã‚‹ã€‚
```

:::

::::

<div style="text-align:center;">
â†“

`git fetch` + `git merge`

â†“
</div>

```sh
git merge
# Auto-merging README.md
# CONFLICT (content): Merge conflict in README.md
# Automatic merge failed; fix conflicts and then commit the result.
```


## conflictã‚’è§£æ¶ˆã™ã‚‹

`conflict` ãŒç”Ÿã˜ãŸãƒ•ã‚¡ã‚¤ãƒ«( `README.md` )ã‚’é–‹ã„ã¦ã¿ã‚‹ã¨ã“ã‚“ãªé¢¨ã«ãªã£ã¦ã„ã‚‹ã€‚

```md
## ç¬¬1ç« 
<<<<<<< HEAD
ç§ã¯ã‚¤ãƒŒã§ã‚ã‚‹ã€‚
=======
ç§ã¯ã‚µãƒ«ã§ã‚ã‚‹ã€‚
>>>>>>> refs/remotes/origin/main

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ãƒã‚³ã§ã‚ã‚‹ã€‚
```

<br>

`=======` ã‚’æŒŸã‚“ã§ã€

- `<<<<<<< HEAD` ã¯æ‰‹å…ƒã§ã®å¤‰æ›´

- `>>>>>>> refs/remotes/origin/main` ã¯ãƒªãƒ¢ãƒ¼ãƒˆã‹ã‚‰ã®å¤‰æ›´

ã‚’ç¤ºã—ã¦ã„ã‚‹ã€‚


## conflictã‚’è§£æ¶ˆã™ã‚‹

ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ `conflict` ã‚’è§£æ¶ˆã™ã‚‹ã€‚ä¾‹ãˆã°:

```md
## ç¬¬1ç« 
ç§ã¯ã‚¤ãƒŒã§ã‚ã‚‹ã—ã€ã‚µãƒ«ã§ã‚‚ã‚ã‚‹ã€‚

## ç¬¬2ç« 
ã‚ãªãŸã‚‚ãƒã‚³ã§ã‚ã‚‹ã€‚
```

<br>

ã“ã®å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ãƒªãƒ¢ãƒ¼ãƒˆã«ã‚‚åæ˜ ã™ã‚‹:

```sh
git add README.md
git commit -m "Solve a conflict"
git push
```


## ã¨ã«ã‹ãä½¿ã£ã¦ã¿ã‚‹

ğŸ”° ç·´ç¿’1: å…ˆã»ã©ã¤ãã£ãŸ `README.md` ã‚’ç·¨é›†ã—ã¦è¤‡æ•°è¡Œã®å†…å®¹ã«ã™ã‚‹ã€‚ã§ããŸã‚‰ã‚³ãƒŸãƒƒãƒˆã—ã¦ãƒ—ãƒƒã‚·ãƒ¥ã€‚

<br>

ğŸ”° ç·´ç¿’2: æ‰‹å…ƒã¨ãƒªãƒ¢ãƒ¼ãƒˆã§ç•°ãªã‚‹è¡Œã‚’ç·¨é›†ã™ã‚‹ã€‚`git fetch` ã—ã¦ã‹ã‚‰ `git merge` ã—ã¦ã¿ã‚‹ã€‚

- æ‰‹å…ƒ: ç·¨é›†ã—ãŸã‚‰ã‚³ãƒŸãƒƒãƒˆ
- ãƒªãƒ¢ãƒ¼ãƒˆ: ç·¨é›†ã—ãŸã‚‰<kbd style="background-color:#008000; color:#fff;">Commit changes</kbd>

<br>

ğŸ”° ç·´ç¿’3: æ‰‹å…ƒã¨ãƒªãƒ¢ãƒ¼ãƒˆã§åŒã˜è¡Œã«ç•°ãªã‚‹ç·¨é›†ã‚’ã™ã‚‹ã€‚

- ã¾ãšã¯æ‰‹å…ƒã§ã¯ã‚³ãƒŸãƒƒãƒˆã›ãšã« `git fetch` ã—ã¦ã‹ã‚‰ `git merge` ã—ã¦ã¿ã‚‹ã€‚ã©ã‚“ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã‚‹ï¼Ÿ


## ä½™è«‡: Fast-forward onlyã®è¨­å®š

`git merge` ã§ãƒªãƒ¢ãƒ¼ãƒˆã¨ãƒ­ãƒ¼ã‚«ãƒ«ã®ä¸¡æ–¹ã®å¤‰æ›´ã‚’å–ã‚Šè¾¼ã‚“ã å ´åˆã€"merge commit"ãŒè‡ªå‹•çš„ã«ã¤ãã‚‰ã‚Œã‚‹ã€‚

```sh
git log --oneline --graph
# *   03899a3 Merge remote-tracking branch 'refs/remotes/origin/main'
# |\                                                    â†‘ ãƒãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆ
# | * 798b869 Edit line.5
# * | 16117cc Edit line.2
# |/
# * 335b76a Some commit
```


## ä½™è«‡: Fast-forward onlyã®è¨­å®š

`git pull` ã‚’ã—ãŸæ™‚ã¯ã€ã€Œã©ã†ã„ã†æ–¹æ³•ã§ãƒãƒ¼ã‚¸ã™ã‚‹ã‹ã€ã‚’è¨­å®šã—ã¦ã„ãªã„ã¨è‡ªå‹•çš„ãªmergeã‚‚èµ·ã“ã‚‰ãªã„ã€‚

```sh
hint: You have divergent branches and need to specify how to reconcile them.
hint: You can do so by running one of the following commands sometime before
hint: your next pull:
hint:
hint:   git config pull.rebase false  # merge (the default strategy)
hint:   git config pull.rebase true   # rebase
hint:   git config pull.ff only       # fast-forward only
hint:
hint: You can replace "git config" with "git config --global" to set a default
hint: preference for all repositories. You can also pass --rebase, --no-rebase,
hint: or --ff-only on the command line to override the configured default per
hint: invocation.
fatal: Need to specify how to reconcile divergent branches.
```

<br>

ãã“ã§ã€ã€Œfast-forwardã§ã®mergeã®ã¿ã‚’è©¦ã¿ã‚‹ã€‚ã€ã¨ã„ã†è¨­å®šã‚’ã—ã¦ãŠãã€‚


## ä½™è«‡: Fast-forward onlyã®è¨­å®š

æ–¹æ³•1
:   `--ff-only` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã§ `git pull` ã™ã‚‹ã€‚

    ```sh
    git pull --ff-only
    ```

æ–¹æ³•2
:   `~/.gitconfig` ã« `--ff-only` ã®è¨­å®šã‚’ã™ã‚‹ã€‚

    ```sh
    git config --global pull.ff only
    ```
    ã‚‚ã—ãã¯
    ```{.ini filename="~/.gitconfig"}
    [pull]
        ff = only
    ```


## ä½™è«‡2: ãã®ä»–ã® `git` ä¾¿åˆ©æ©Ÿèƒ½

<span style="font-weight: normal;">ã€Œã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã€ã©ã“ãŒå¤‰ã‚ã£ãŸã‚“ã ã£ã‘ã€</span>
: `git diff`

<span style="font-weight: normal;">ã€Œé–“é•ãˆã¦ã€‡ã€‡ã—ã¡ã‚ƒã£ãŸã€å–ã‚Šæ¶ˆã—ãŸã„ã€</span>
: `git reset`

<span style="font-weight: normal;">ã€Œã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ç®¡ç†ã—ãŸã„ã‘ã©ã€ãƒ‡ãƒ¼ã‚¿ã‚„ç”»åƒã¯å¤–ã«å‡ºã—ãŸããªã„ãªã€</span>
: `.gitignore`

<br>

see more
:   [`git` å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](https://git-scm.com/docs)
