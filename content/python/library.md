---
title: "Python ライブラリ"
date: 2022-11-02T11:03:16+09:00
---

## ライブラリ、パッケージ、モジュール

後で使い回す関数 (c.f. `def` ) や[クラス]({{< ref class.md >}})を記述したファイル ( `*.py` )をモジュールという。
複数のモジュールを構造的に扱う仕組みをパッケージと呼ぶ。パッケージはモジュールの名前空間を "dotted module names" という仕組みで管理する。

(例えば同じ `hoge.py` というモジュールがあった場合に、`fuga.hoge` なら `fuga` というパッケージの `hoge.py`、
`piyo.hoge` なら `piyo` というパッケージの `hoge.py` を指す。)

ライブラリは厳密には定義されていないようだが、複数のパッケージをまとめたものを指したり、
パッケージ、モジュール、関数など他のプログラムから呼び出すプログラムの総称を指したりする。


## 標準ライブラリと外部ライブラリ

ライブラリにはPythonにもともと備わっている**標準ライブラリ**( `re`, `math` など)と、
あとから個別にインストールして使う**外部ライブラリ**( `pandas`, `scikit-learn` など)がある。

外部ライブラリを利用する際は、
Pythonライブラリの管理ソフトである `pip` や `conda` を用いてライブラリのインストールを行う:

```sh
python3 -m pip install ライブラリ名
```

:exclamation: 以下のコマンドでもインストールできるが、
どの環境へのインストールを行うかが非自明であるため推奨されていないらしい。

```sh
pip install ライブラリ名
pip3 install ライブラリ名
```

### 遺伝研で外部ライブラリをインストールする場合

遺伝研で外部ライブラリを利用するには、

```sh
pip3 install --user ライブラリ名
```

とすることで `~/.local/` にライブラリをインストールできる。
（が、再現性の観点では`venv`で仮想環境を構築する方がいいらしい。）


## ライブラリのインポート

Pythonコード内でライブラリを利用するためには、インポートを行う必要がある:

```python
import re
```

長いライブラリ名は略称をつけてインポートすることもできる:

```python
import pandas as pd
```

大きなライブラリの場合、一部の機能（**モジュール**）を指定してインポートすると軽量:

```python
from ライブラリ名 import モジュール名 (as hoge)
# 例: from Bio import Seq
```

または

```python
import ライブラリ名.モジュール名
```
